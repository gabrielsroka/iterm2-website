2022-04-06: Remove session from MovePaneController after
dragging a tab into a split pane. Fixes a bug where after
doing so split pane drags don't begin. Issue 10335

2022-04-06: Fix a bug in the password manager's search
feature where after filtering out an entry it never
reappears

2022-04-06: Fix crash when pressing left or right arrow in
command history. Issue 10322

2022-04-06: Vacuum and checkpoint the state restoration DB
after db ready callbacks get run to avoid blocking opening
initial windows. Unfortunately the DB finishes loading graph
records before whenReady gets called so it ends up blocking
for a long time on checkpointing. Issue 10328

2022-04-05: Handle 1password timeout errors. See
https://1password.community/discussion/128167/cli-v2-not-connecting-to-desktop-app-sandbox-issue

2022-04-05: Fix bug in mark rendering when only display is
nonretina. Issue 10291

2022-04-05: Fix bug in parsing bind-keys for a literal of -
which got confused with a flag. Issue 10301

2022-04-04: Make get_session_by_id return buried sessions by
default. Fixes a bug where a buried tmux gateway couldn't be
found by Tmux.owning_session. See email thread 'Open tmux
profile when VPN comes up if not open'

2022-04-04: Add 1password debug logging

2022-04-04: Make option-cmd-enter a shortcut for 'convert
matches to cursors', usable in composer. Make the composer
first responder when you do that so the cursors will be
usable.

2022-04-04: Add main menu to context menu in LSUI mode

2022-04-03: Fix a race in coprocess error reporting where we
read from stderr after -terminate runs, causing that output
to be lost. Now synchronize it so the delegate isn't
notified of termination until we finish reading from stderr

2022-04-03: Remove loop parameter from asyncio.Queue. (#466)

It no longer works in Python 3.10. removed the loop
parameter from asyncio.Queue. More background here:
https://stackoverflow.com/questions/60312374/what-are-all-these-deprecated-loop-parameters-in-asyncio
2022-04-03: Document how to clear a background image (#468)


2022-04-03: Add advanced pref to hide new tab button in
tabbar

2022-04-03: Add totd for composer power features

2022-04-03: Add support for sending one command of many from
the composer

2022-04-02: Update MultiCursor

2022-04-02: Composer improvements.

Rename "Convert Matches to Selections" to "Select Matches",
which is the standard. Use performFindPanelAction: instead
of convertMatchesToSelections: so Select Matches will work
in the composer as well as in PTYTextView.  Remove
performFindPanelAction: from PseudoTerminal since it really
belongs in PTYTextView. Add a disgusting hack to
iTermComposerView to make Select Matches work in the
composer.

ARCify iTermWarning so I can use it from Swift.  Add
mullability annotations to it.

Add CommandExplainer to centrailze explainshell URL logic.

Make cmd-click on a command in the composer open
explainshell for just that command. The logic is now mostly
in ComposerTextView, but it uses a URL with the iterm2
scheme so some of it ended up in the app delegate as well.

Change composer's help to describe shortcuts.

Add iTermTextPopoverViewController.sizeToFit and beat
AppKit's buggy sizing code into submission.

2022-04-02: Add drag handle to composer. Reduce help text to
make it less cluttered

2022-04-01: Use performFindPanelAction: with tag 1 for Find
(this is standard) instead of showFindPanel:. Enable the
find bar in the composer

2022-04-01: Port ComposerTextView to swift. Make it a
subclass of MultiCursorTextView. The composer now has
support for multiple cursors.

2022-03-29: Fix encoding bug in invocation_string which
affected Tab.async_set_title. Issue 10303

2022-03-29: Exclude tmux commands that require interaction

2022-03-29: Use the leader to provide support for tmux
keystrokes in tmux integration mode. Issue 10301

2022-03-29: Update graphic_icons.json (#465)


2022-03-28: Add support for leader. Issue 10301

2022-03-27: Add a hint to enable biometric auth for 1pw

2022-03-26: Using python3 on macOS 12.3 and fix null
environment issue for tmux integration. (#464)

* Using python3 on macOS 12.3

* Fix null environment issue for tmux integration
2022-03-26: Improve how we check for the availability of
biometric auth in 1password. See
https://1password.community/discussion/comment/633329

2022-03-26: Improve lastpass login experience

2022-03-26: Make password manager async and improve UI for
editing triggers when locked.

2022-03-22: Centralize calls to
iTermPasswordManagerDataSourceProvider.dataSource and rename
keyChain to currentDataSource

2022-03-22: Fix new warnings from xcode 13.3

2022-03-22: Add 1password and lastpass password manager
integrations.

2022-03-19: Fix a bug where alternate keychains didn't work
when changing an entry.

Add some swift extensions.

Abstract password datasources to make it possible to add
command-line providers like LastPass or 1password.

ARCify iTermApplication.

Fix a bug where context menu items in the password manager
used the selected row rather than the clicked row for
context menu actions.

2022-03-18: Fix a bug where the background image was messed
up in the legacy renderer when changing 'separate background
images per pane'

2022-03-18: Oops, missed on change in previous commit

2022-03-18: Enable GPU renderer when background images are
not per-pane

2022-03-18: Tell xcode to shut its gob

2022-03-18: Set environment variables in coprocesses that
are the same as in sessions. Issue 10136

2022-03-17: Update Python API project description

2022-03-17: Remove pyobjc from Python API, making it an
'extras_require' package. Use osascript for authentication
and change how colors are encoded to not require AppKit to
decode them. Users on existing versions of iTerm2 will
continue to need pyobjc to decode triggers with colors, so
I'm bumping the major version of the library since it is a
backwards-incompatible change. Auth should continue to work
as usual. Inspired by issue 10136

2022-03-17: Update help text when toggling interpolated
params for smart selection actions. Issue 10296

2022-03-17: Prevent transient titles during a window's first
second of life. Issue 7434

2022-03-16: Add debug logging for issue 10291

2022-03-16: Fix warning

2022-03-16: Remove still-trying announcement because it
doesn't stay visible long enough to be read.

2022-03-16: Don't crash on really long ancestry chains of
processes. Issue 10290

2022-03-16: Move DWC_RIGHT and friends to 0x001-0x004 so
nerd fonts can use 0xf000-0xf003. Migrate existing restored
state to the new range. Issue 7570.

Also fix a few bugs I found along the way: - Don't call
[NSApp invalidateRestorableState] off the main queue.  - Fix
a bug in LineBlock where it didn't save generation when
copying, which broke delta encoding.

2022-03-15: Add option to not require password to open
password manager

2022-03-15: Add option to select keychain for password
manager. Issue 7471

2022-03-14: Fix a bug where prompt marks stopped showing up
in the scrollbar. The visible range of the minimap was 0,0
because updateMarksMinimapRangeOfVisibleLines didn't get
called until the scrollback buffer got full. Issue 10097

2022-03-14: Bump shell integration (shebang to /usr/bin/env
PR)

2022-03-14: Remove stray characters

2022-03-14: Update README.md 2022-03-14: Add
notificationOcclusionThreshold. Issue 10267

2022-03-13: When an rpc is unregistered during session
creation, retry for five seconds. This could happen during
app launch when a session outraces a python API script that
will register an RPC that is needed for the autolog
filename. Issue 10104

2022-03-13: Update utilities for new imgls

2022-03-13: Bump iTerm2-shell-integration for new imgls

2022-03-13: Add debugging for
https://gitlab.com/gnachman/iterm2/-/issues/10104#note_872816107.
Fix wrong error message when calling an RPC with no
registered handler.

2022-03-13: Fix a crash when requesting a block with a
negative abs char offset.

2022-03-13: Fix a long standing bug where PTYSession didn't
realize an upload had finished and showed a spurious error
when you type something after uploading

2022-03-12: Make all save panels async to fix a beachball on
those with accessories. Also improve exporting IR to default
to start -> end and fix a bug with the save content save
panel that didn't let you change format.

2022-03-12: Add support for logging as asciicast

2022-03-12: Add an autorelease pool when building the
process cache to try to prevent runaway autoreleased
objects. Issue 10284

2022-03-12: Set ITERM2_COOKIE in coprocesses. ARCify
Coprocess.m. Issue 10136

2022-03-11: Fix a typo

2022-03-11: Post a notification when you press a hotkey with
secure keyboard input enabled while another app is active.
Issue 10283

2022-03-10: Add pid and tty to open quickly search features.
Include in the detail for each session why the query
recalled it. Issue 10278

2022-03-09: Don't refresh if there is no delegate. This is
the only explanation I have for the crash mentioned in issue
10258

2022-03-09: Delete incorrect comment

2022-03-09: [python] Bump version

2022-03-09: [python] Fix a bug where you couldn't run
multiple async runloops after creating an App. Issue 10136

2022-03-09: Handle nil strings in trigger evaluation

2022-03-09: Speed up trigger regex evaluation. To my horror,
I have found that RegexKitLite was not caching compiled
regular expressions :(. I think it's past time to stop using
it. Issue 10113

2022-03-09: Add missing nullability annotations

2022-03-08: Fix two bugs with minimum contrast: (issue
10273)

1. The prefs panel showed the wrong value when not using
separate light/dark colors because the "use different colors
for light and dark mode" checkbox was not initialized before
it was used, causing it to behave as though it was always
checked when looking up values to initialize the min
contrast slider.

2. Colormap mutations before the mutable state's side-effect
performing delegate was assigned didn't update the
main-thread copy. Fix this by running those side effects
even when there is no delegate since it wasn't used anyway.

2022-03-08: Add support for reporting clipboard content.
Introduce secure user defaults as a generalization of the
mechanism used for disabling applescript authentication for
the Python API to make sure that users consent to clipboard
reporting before it is used automatically.

2022-03-06: Rebuild shell integration

2022-03-06: Provide the copied iTermSelection a delegate
during endLive(). Fixes a bug where box selections couldn't
have their content extracted

2022-03-06: Fix a bug where selectionDidChange was called on
the wrong queue

2022-03-05: Enable tsan and zombies to find more issues like
the crash in 10160

2022-03-05: Make iTermExternalAttribute's accessors atomic
to mollify tsan. The values are immutable after
initialization and I don't buy that there's a real data race
here.

2022-03-05: Copy metadata to fix a data race (issue 10160)

2022-03-05: Fix UKCrashReporter for macOS 12

2022-03-05: Ensure add tab button doesn't treat a drag as a
click. I can't reproduce this locally. See issue 10217

2022-03-05: Update shell integration utilities to pull in
imgcat improvements from PR 4

2022-03-05: Fix 'select current command' to go past the
cursor if needed. issue 10269

2022-03-03: Add scientific notation context menu synonym
(#463)


2022-03-03: Defer cursor blink side effect

2022-03-03: Update status item images to look right for
macOS 11+. Issue 10240

2022-03-03: Optimizations for emacs from issue 10206

* Defer running the side effect after hiding the cursor to
avoid drawing while it's hidden.  * Make
incrementOverflowBy: a no-op when it's incremented by 0
lines to avoid an immediate draw.  * Don't schedule a
side-effect when blink changes if the terminal is not
allowed to change blink.  * Use a deferred side-effect for
blink changes since they aren't urgent and could cause
cursor flicker in emacs.

Emacs loves to toggle cursor blink and needs these
mitigations to look good.

2022-03-03: Don't draw subtitle if the tabbar isn't tall
enough in minimal. No-titlebar windows have a short tabbar
in Minimal.

2022-03-03: Add debug logging for
NSWindowRestoresWorkspaceAtLaunch

2022-03-03: Bail out of swipe tracker after 5 seconds of
inactivity and log what the events were. Trying to diagnose
a hang here. Issue 10258

2022-03-03: Add support for Nova to semantic history. Issue
10165

2022-03-03: Draw window background color behind tab in
tab-drag-window. Make no-titlebar windows drag the window
when there is a single tab when
convertTabDragToWindowDragForSolitaryTabInCompactOrMinimalTheme
is enabled. Issue 10257

2022-03-02: Clear to mark before last mark while at a
prompt. Issue 10256

2022-03-02: Add debug logging

2022-03-02: Remove stray lines from tabbar in minimal theme

2022-03-02: Use foreground color as text color in tabs in
minimal with no transparency. Issue 10255
